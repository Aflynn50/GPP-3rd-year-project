\chapter{Results}\label{ch:results}
We now describe the results of testing the ILP systems. We conducted the experiments in accordance with the methods described in chapter \ref{ch:methodology}.

To recap the research questions are as follows:
\begin{itemize}
	\item \textbf{Q1} - Does varying the quality of game traces influence the ability for learners to solve the IGGP problems? Specifically, does the quality of game play affect predictive accuracy?
	\item \textbf{Q2} - Does varying the amount of game traces influence the ability for learners to solve the IGGP problems? Specifically, does the quality of game play affect predictive accuracy?
	\item \textbf{Q3} - Can we improve the performance of a learner by mixing the quality of traces?
\end{itemize}

\section{Results summary}
\ac{
	Are the results the same for all the games?
	Are their any games in particular that benefit from more traces or optimal play?
}

\subsection{E1: Varying the quality of game traces}
For question Q1 we preform experiment E1 where we train and test each system on random and intelligent traces. Generally the differences in balanced accuracy were unpronounced. To show this we use the $\chi^2$ (chi squared) test to calculate the statistical significance of our results. Since the biggest difference between any two balanced accuracy testing results between two distributions was for Aleph, where it was trained on Sancho traces and tested on Random (balanced accuracy of 65) and Sancho (balanced accuracy of 72), the $\chi^2$ test was performed on these. The result was a p-value of 0.6723. This value is well above any reasonable threshold for statistical significance meaning the results can be viewed as not significant. 
\ac{talk about the results of this experiment}



\ac{Table \ref{tab:e1results} shows the results of E1 ....}
We found that overall the systems trained on the mixed data did better than the systems trained on random data.
\ac{how much better?}
However the difference in score was not particularly pronounced \ac{what does that mean?}.

\ac{ILASP ...}

The Metagol system was ineffective across all sets of data. It sometime managed to learn part of the \textit{next} predicate for some games but never managed \textit{legal} or \textit{goal} predicates.

Aleph was limited by the maximum size of the program to be learned. This affected its performance on the larger number of traces. Aleph often did well at learning the \textit{goal} and \textit{next} predicates however was generally scored poorly on the more complex \textit{legal} predicate. The system did not do significantly better on optimal or random. It performed well when trained and tested on the Sancho traces.
The programs that were learned by the Aleph system almost always consisted of a conjunction of the examples in the training set. This method was only effective \ac{any idea why?}
\af{talk about info that cant be glended from the graph}


\subsection{E2: Varying the amount of game traces}
\af{use scatter graph}
\ac{talk about the results of this experiment}
\ac{
	I would present these as a scatter plot. On the xaxis you have the amount of game traces and on the y axis you have the balanced accuracy / perfectly scored metric
}


When increasing the number of traces it was observed that the there was a large jump in effectiveness of ILASP between 8 and 16 traces but between 16 and 24 traces the aggregated results were identical suggesting the new extra game traces had no benefit to the ILP systems. The number of games the ILASP perfectly solved also jumped by a huge amount, from 7-8 to 76 suggesting that this system in particular benefited a lot from the extra data.

\ac{What about Metagol?}

\ac{What about Aleph?}


\subsection{E3: Mixing the quality of traces}
\ac{talk about the results of this experiment}









Balanced accuracy

\begin{table}[]
	\begin{tabular}{|c|c|c|c|c|c|c|}
		\hline
		\multicolumn{7}{|c|}{Balanced Accuracy}                                                                           \\ \hline
		\multirow{2}{*}{Systems} & \multicolumn{2}{c|}{Random} & \multicolumn{2}{c|}{Sancho} & \multicolumn{2}{c|}{Mixed} \\ \cline{2-7}
		& Random       & Sancho       & Random       & Sancho       & Random       & Sancho      \\ \hline
		Metagol                  & 51           & 51           & 51           & 51           & 51           & 51          \\ \hline
		Aleph                    & 66           & 65           & 65           & 72           & 67           & 66          \\ \hline
		ILASP                    & 72           & 72           & 71           & 72           & 73           & 73          \\ \hline
	\end{tabular}
	\label{E1-BA}
	\caption{The average balanced accuracies across all games and predicates for each system in E1. Each row gives the balanced accuracies of one system. Each was trained on random, Sancho generated and mixed traces then tested against random and Sancho generated. The top of the two header rows gives the training distribution and the lower gives the test distribution}
\end{table}


\begin{table}[]
	\begin{tabular}{|c|c|c|c|c|c|c|}
		\hline
		\multicolumn{7}{|c|}{Perfectly Solved}                                                                            \\ \hline
		\multirow{2}{*}{Systems} & \multicolumn{2}{c|}{Random} & \multicolumn{2}{c|}{Sancho} & \multicolumn{2}{c|}{Mixed} \\ \cline{2-7}
		& Random       & Sancho       & Random       & Sancho       & Random       & Sancho      \\ \hline
		Metagol                  & 0            & 0            & 0            & 0            & 0            & 0           \\ \hline
		Aleph                    & 1            & 0            & 0            & 4            & 7            & 0           \\ \hline
		ILASP                    & 7            & 8            & 5            & 10           & 7            & 8           \\ \hline
	\end{tabular}
	\label{E1-P}
	\caption{The number of perfectly solved scores for each system trained and tested as described in E1}
\end{table}

\begin{table}[]
	\begin{tabular}{|c|c|c|c|c|c|c|}
		\hline
		\multicolumn{7}{|c|}{Balenced Accuracy}                                                                                       \\ \hline
		\multirow{2}{*}{Systems} & \multicolumn{2}{c|}{Mixed - 8} & \multicolumn{2}{c|}{Mixed - 16} & \multicolumn{2}{c|}{Mixed - 24} \\ \cline{2-7}
		& Random         & Sancho        & Random         & Sancho         & Random         & Sancho         \\ \hline
		Metagol                  & 51             & 51            & 51             & 51             & 51             & 51             \\ \hline
		Aleph                    & 67             & 66            & 67             & 65             & 67             & 65             \\ \hline
		ILASP                    & 73             & 73            & 85             & 85             & 85             & 85             \\ \hline
	\end{tabular}
	\label{E2-BA}
	\caption{The average balanced accuracy for each system trained and tested as described in E2}
\end{table}

\begin{table}[]
	\begin{tabular}{|c|c|c|c|c|c|c|}
		\hline
		\multicolumn{7}{|c|}{Perfectly Solved}                                                                                        \\ \hline
		\multirow{2}{*}{Systems} & \multicolumn{2}{c|}{Mixed - 8} & \multicolumn{2}{c|}{Mixed - 16} & \multicolumn{2}{c|}{Mixed - 24} \\ \cline{2-7}
		& Random         & Sancho        & Random         & Sancho         & Random         & Sancho         \\ \hline
		Metagol                  & 0              & 0             & 0              & 0              & 0              & 0              \\ \hline
		Aleph                    & 1              & 0             & 0              & 0              & 0              & 0              \\ \hline
		ILASP                    & 7              & 8             & 76             & 76             & 76             & 76             \\ \hline
	\end{tabular}
	\label{E2-P}
	\caption{The number of perfectly solved scores for each system trained and tested as described in E2}
\end{table}

\begin{tikzpicture}
\begin{axis}[scatter/classes={
	a1={mark=square*,blue},%
	a2={mark=triangle*,blue},%
	b1={mark=square*,red},%
	b2={mark=triangle*,red},%
	c1={mark=square*,green},%
	c2={mark=triangle*,green}},
	legend style={at={(1.35,0.7)},
	anchor=north},
	xtick=data,
	ylabel={Balenced Accuracy},
	xlabel={Number of traces}]
\addplot[scatter,only marks,
	scatter src=explicit symbolic] coordinates {
	(8,51)     	[a1]
	(8,51)     	[a2]
	(16,51)    	[a1]
	(16,51)    	[a2]
	(24,51)    	[a1]
	(24,51)		[a2]
	(8,67)		[b1]
	(8,66)		[b2]
	(16,67)		[b1]
	(16,65)		[b2]
	(24,67)		[b1]
	(24,65)		[b2]
	(8,73)		[c1]
	(8,73)		[c2]
	(16,85)		[c1]
	(16,85)		[c2]
	(24,85)		[c1]
	(24,85)		[c2]
};
\legend{\ \ \ \ \ Metagol tested on Random,\ \ \ Metagol tested on Sancho,\ \ Aleph tested on Random,Aleph tested on Sancho, \ \ \ ILASP tested on Random,\ ILASP tested on Sancho,d}
\end{axis}

\end{tikzpicture}


%\subsubsection{Random training}
%\begin{tikzpicture}
%\begin{axis}[
%	ylabel=Balanced Accuracy,
%	width=6cm,
%	enlargelimits=0.05,
%	legend style={at={(0.5,1.3)},
%	anchor=north,
%	legend columns=-1},
%	ybar interval=0.5,
%	symbolic x coords={ilasp,metagol,aleph, poog}
%]
%\addplot
%	coordinates {(ilasp,71) (metagol,51) (aleph,66) (poog, 65)};
%\addplot
%	coordinates {(ilasp,72) (metagol,51) (aleph,65) (poog,65)};
%\legend{Tested on random,Tested on optimal}
%\end{axis}
%\end{tikzpicture}
%~
%\begin{tikzpicture}
%\begin{axis}[
%	width=6cm,
%	ylabel=Number of perfect games,
%	enlargelimits=0.05,
%	ybar interval=0.5,
%	symbolic x coords={ilasp,metagol,aleph, poog}
%]
%\addplot
%	coordinates {(ilasp,7) (metagol,0) (aleph,1) (poog, 0)};
%\addplot
%	coordinates {(ilasp,8) (metagol,0) (aleph,0) (poog,0)};
%\end{axis}
%\end{tikzpicture}
%\subsubsection{Optimal training}
%\begin{tikzpicture}
%\begin{axis}[
%ylabel=Balanced Accuracy,
%width=6cm,
%enlargelimits=0.05,
%legend style={at={(0.5,1.3)},
%	anchor=north,
%	legend columns=-1},
%ybar interval=0.5,
%symbolic x coords={ilasp,metagol,aleph, poog}
%]
%\addplot
%coordinates {(ilasp,71) (metagol,51) (aleph,65) (poog, 65)};
%\addplot
%coordinates {(ilasp,72) (metagol,51) (aleph,72) (poog,65)};
%\legend{Tested on random,Tested on optimal}
%\end{axis}
%\end{tikzpicture}
%~
%\begin{tikzpicture}
%\begin{axis}[
%width=6cm,
%ylabel=Number of perfect games,
%enlargelimits=0.05,
%ybar interval=0.5,
%symbolic x coords={ilasp,metagol,aleph, poog}
%]
%\addplot
%coordinates {(ilasp,5) (metagol,0) (aleph,0) (poog, 0)};
%\addplot
%coordinates {(ilasp,10) (metagol,0) (aleph,4) (poog,0)};
%\end{axis}
%\end{tikzpicture}

